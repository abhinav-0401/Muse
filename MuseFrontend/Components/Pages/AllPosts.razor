@page "/all"

<PageTitle>My Posts</PageTitle>

@if (_isAuthenticated)
{
    <div class="min-h-screen bg-linear-to-br from-purple-400 via-fuchsia-300 to-pink-300 grid grid-rows-[auto_1fr] lg:grid-cols-[280px_1fr] lg:grid-rows-1 relative overflow-hidden">
        
        <MobileNavbar />

        <Sidebar />

        <!-- Main Content -->
        <main class="flex-1 overflow-hidden relative z-10">
            <div class="h-full grid grid-rows-[auto_1fr]">
                <Header BtnText="âœ¨ new post" ClickHandler="@((MouseEventArgs e) => Navigation.NavigateTo("/"))" />
                
                <!-- Content Area -->
                <div class="flex-1 overflow-y-auto">
                    <div class="max-w-auto mx-auto px-4 py-8 lg:px-8"> 

                        @if (_posts is null || _posts.Count == 0)
                        {
                            <PostCard Content="No Posts Yet" Username="MUSE"/>
                        }
                        else
                        {
                            foreach (var post in _posts)
                            {
                                <PostCard Content=@post.Content Userid=@post.Userid Username=@post.Username />
                            }
                        }

                    </div>
                </div> <!-- Content Area -->

            </div>
        </main>

    </div>
}